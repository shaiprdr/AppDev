<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Dashboard</title>
  <link rel="stylesheet" href="userdashboard.css" />
</head>
<body>


  <aside class="sidebar">
    <div class="logo">
      <img src="IMAGES/logo.png" alt="Logo" />
      <span class="logo-text">User Dashboard</span>
    </div>
    <nav>
      <a href="userdashboard.html" class="active">Dashboard</a>
      <a href="#">Preferences</a>
      <a href="profile-card">Profile</a>
      <a href="#">Inbox</a>
    </nav>
  </aside>


  <main class="main-content">

   
    <header class="header">
      <h2>Welcome back, Julia!</h2>
      <div class="nav-buttons">
        <button aria-label="Notifications">
          <img src="IMAGES/notification.png" alt="Notifications" />
        </button>
        <a href="carlisting.html" class="book-now-btn">Book</a>
      </div>
    </header>

   
    <section class="dashboard">

      
      <div class="card profile-card" id="profile-card">
        <div class="profile">
          <img src="IMAGES/profile.jpg" alt="Julia Banks" />
          <div class="profile-details">
            <strong>Julia Banks</strong>
            <p>@julia.b</p>
          </div>
        </div>
        <div class="profile-contact">
          <p class="label">Contact</p>
          <p class="text">julia@example.com<br/>+63 967 445 4894</p>
        </div>
        <div class="button-group">
          <button class="edit-btn">Edit Profile</button>
        </div>
      </div>

      <div class="card-government-card">
        <p class="label">Government & Contact Details</p>
        <div class="goverment-details"></div>
        <p><strong>Government ID Type:</strong> <span id="profileGovIdType">N/A</span></p>
        <p><strong>Government ID Number:</strong> <span id="profileGovIdNumber">N/A</span></p>
        <p><strong>Address:</strong> <span id="profileAddress">N/A</span></p>
        <p><strong>Driver License ID:</strong> <span id="profileDriverLicense">N/A</span></p>
        </div>
        


      
      <div class="card booking-status">
        <p class="label">Booking Status</p>
        <div class="status-entry">
          <strong class="status-ongoing">Ongoing</strong>
          <p>0 active bookings</p>
        </div>
        <div class="status-entry">
          <strong class="status-completed">Completed</strong>
          <p>0 bookings completed</p>
        </div>
        <div class="status-entry">
          <strong class="status-upcoming">Upcoming</strong>
          <p>0 scheduled trips</p>
          <a href="#" class="view-link">View</a>
        </div>
      </div>

    
      <div class="card payment-history">
        <p class="label">Payment History</p>
        <div class="stats">
          <div class="stat-box">
            <h4>Paid</h4>
            <p>0</p>
          </div>
          <div class="stat-box">
            <h4>Refunded</h4>
            <p>0</p>
          </div>
          <div class="stat-box">
            <h4>Cancelled</h4>
            <p>0</p>
          </div>
        </div>
      </div>

    
<div class="card billing-methods">
  <p class="label">Billing</p>

  <div class="methods" data-method="gcash">
    <span><img src="IMAGES/letter-g.png" alt="GCash" /> GCash</span>
    <a href="#" class="edit-link">Add</a>
    <p class="saved-number" id="gcash-number"></p>
  </div>

  <div class="methods" data-method="paymaya">
    <span><img src="IMAGES/letter-m.png" alt="PayMaya" /> PayMaya</span>
    <a href="#" class="edit-link">Add</a>
    <p class="saved-number" id="paymaya-number"></p>
  </div>

  <div class="methods" data-method="paypal">
    <span><img src="IMAGES/paypal.png" alt="PayPal" /> PayPal</span>
    <a href="#" class="edit-link">Add</a>
    <p class="saved-number" id="paypal-number"></p>
  </div>

  <div class="methods" data-method="card">
    <span><img src="IMAGES/credit-card.png" alt="Card" /> Credit/Debit Card</span>
    <a href="#" class="edit-link">Add</a>
    <p class="saved-number" id="card-number"></p>
  </div>
</div>

      <div class="card saved-vehicles">
        <p class="label">Saved Vehicles</p>
        <p>-----</p>
      </div>

    </section>
  </main>

<script>
  
  document.addEventListener("DOMContentLoaded", () => {
    const editBtn = document.querySelector('.edit-btn');
    const profileName = document.querySelector('.profile-details strong');
    const profileUsername = document.querySelector('.profile-details p');
    const profileContact = document.querySelector('.profile-contact .text');

    
    const userProfile = JSON.parse(localStorage.getItem('userProfile')) || {};

    const fullName = userProfile.fullName || `${userProfile.firstName || ''} ${userProfile.middleName ? userProfile.middleName + ' ' : ''}${userProfile.lastName || ''} ${userProfile.suffix || ''}`.trim();
    const username = userProfile.username || `@${(userProfile.firstName || 'user').charAt(0).toLowerCase()}${(userProfile.lastName || 'name').toLowerCase()}`;
    const contact = userProfile.contact || `${userProfile.email || 'example@email.com'}<br/>+63 967 445 4894`;

    profileName.textContent = fullName;
    profileUsername.textContent = username;
    profileContact.innerHTML = contact;

   
    editBtn.addEventListener('click', () => {
      if (editBtn.textContent === 'Edit Profile') {
       
        profileName.innerHTML = `<input type="text" id="editFullName" value="${fullName}" />`;
        profileUsername.innerHTML = `<input type="text" id="editUsername" value="${username}" />`;
        profileContact.innerHTML = `<input type="text" id="editContact" value="${contact.replace(/<br\/>/g, ' ')}" />`;
        editBtn.textContent = 'Save Profile';
      } else {
        
        const updatedFullName = document.getElementById('editFullName').value;
        const updatedUsername = document.getElementById('editUsername').value;
        const updatedContact = document.getElementById('editContact').value;

        profileName.textContent = updatedFullName;
        profileUsername.textContent = updatedUsername;
        profileContact.innerHTML = updatedContact.replace(/\n/g, '<br/>');

        const updatedProfile = {
          ...userProfile,
          fullName: updatedFullName,
          username: updatedUsername,
          contact: updatedContact
        };

        localStorage.setItem('userProfile', JSON.stringify(updatedProfile));
        editBtn.textContent = 'Edit Profile';
      }
    });
  });
</script>

<script>
  
  function goToPage3() {
    const govIdType = document.getElementById('govIdType').value;
    const govIdNumber = document.getElementById('govIdNumber').value;
    const address = document.getElementById('address').value;
    const driverLicense = document.getElementById('driverLicense').value;


    localStorage.setItem('govIdType', govIdType);
    localStorage.setItem('govIdNumber', govIdNumber);
    localStorage.setItem('address', address);
    localStorage.setItem('driverLicense', driverLicense);

  
    window.location.href = 'userdashboard.html';
  }
</script>

<script>
  
  document.addEventListener("DOMContentLoaded", () => {
    const govIdType = localStorage.getItem('govIdType') || "N/A";
    const govIdNumber = localStorage.getItem('govIdNumber') || "N/A";
    const address = localStorage.getItem('address') || "N/A";
    const driverLicense = localStorage.getItem('driverLicense') || "N/A";

    if (document.getElementById('profileGovIdType')) {
      document.getElementById('profileGovIdType').textContent = govIdType;
      document.getElementById('profileGovIdNumber').textContent = govIdNumber;
      document.getElementById('profileAddress').textContent = address;
      document.getElementById('profileDriverLicense').textContent = driverLicense;
    }
  });
</script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const govIdType = localStorage.getItem('govIdType') || "N/A";
    const govIdNumber = localStorage.getItem('govIdNumber') || "N/A";
    const address = localStorage.getItem('address') || "N/A";
    const driverLicense = localStorage.getItem('driverLicense') || "N/A";

    document.getElementById('profileGovIdType').textContent = govIdType;
    document.getElementById('profileGovIdNumber').textContent = govIdNumber;
    document.getElementById('profileAddress').textContent = address;
    document.getElementById('profileDriverLicense').textContent = driverLicense;
  });
</script>


<div id="paymentModal" class="modal hidden">
  <div class="modal-content">
    <h3 id="modalTitle">Add Number</h3>
    <input type="text" id="paymentNumberInput" placeholder="Enter number" />
    <button id="modalAddBtn">Add</button>
    <button id="modalCloseBtn" class="close-btn">&times;</button>
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById('paymentModal');
  const modalTitle = document.getElementById('modalTitle');
  const paymentInput = document.getElementById('paymentNumberInput');
  const modalAddBtn = document.getElementById('modalAddBtn');
  const modalCloseBtn = document.getElementById('modalCloseBtn');


  let currentPaymentMethodDiv = null;
  let currentPaymentMethodName = '';


  document.querySelectorAll('.billing-methods .edit-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();

    
      const methodsDiv = e.target.closest('.methods');
      currentPaymentMethodDiv = methodsDiv;
      currentPaymentMethodName = methodsDiv.querySelector('span').textContent.trim();

     
      modalTitle.textContent = `${currentPaymentMethodName} no:`;

    
      paymentInput.value = '';

      
      modal.classList.remove('hidden');

      
      paymentInput.focus();
    });
  });

  
  modalAddBtn.addEventListener('click', () => {
    const enteredNumber = paymentInput.value.trim();
    if (enteredNumber === '') {
      alert('Please enter a valid number.');
      paymentInput.focus();
      return;
    }

  
    let numbersContainer = currentPaymentMethodDiv.querySelector('.numbers-container');
    if (!numbersContainer) {
      numbersContainer = document.createElement('div');
      numbersContainer.classList.add('numbers-container');
      numbersContainer.style.marginTop = '8px';
      numbersContainer.style.fontSize = '0.9rem';
      currentPaymentMethodDiv.appendChild(numbersContainer);
    }

   
    const numberLine = document.createElement('p');
    numberLine.textContent = enteredNumber;
    numbersContainer.appendChild(numberLine);

    
    modal.classList.add('hidden');
  });

 
  modalCloseBtn.addEventListener('click', () => {
    modal.classList.add('hidden');
  });

  
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.add('hidden');
    }
  });
});
</script>
</body>
</html>
